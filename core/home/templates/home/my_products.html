{% extends "base.html" %}

{% block start %}
    <div class="container mt-4">
        <h1>My Products</h1>
        {% if user_products %}
            <ul>
                {% for product in user_products %}
                    <li>
                        <strong>Name:</strong> {{ product.products_name }}<br>
                        <strong>Base Price:</strong> {{ product.products_base_price }}<br>
                        {% if product.product_image %}
                            <img src="{{ product.product_image.url }}" alt="{{ product.products_name }}" class="img-thumbnail">
                        {% else %}
                            <p>No image available</p>
                        {% endif %}
                        {% if product.auction %}
                            {% if product.auction.is_active %}
                                <a href="{% url 'auction_detail' auction_id=product.auction.id %}">
                                    <button class="btn btn-success">View Auction</button>
                                </a>
                            {% else %}
                                {% if product.winner %}
                                    <a href="{% url 'winner' auction_id=product.auction.id %}">
                                        <button class="btn btn-info">View Winner</button>
                                    </a>
                                {% else %}
                                    <button class="btn btn-secondary" disabled>In Review</button>
                                {% endif %}
                            {% endif %}
                        {% else %}
                            <button class="btn btn-secondary" disabled>In Review</button>
                        {% endif %}
                        <!-- Add more fields as needed -->
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No products yet.</p>
        {% endif %}
    </div>
{% endblock %}
